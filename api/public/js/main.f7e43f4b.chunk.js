(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,n){e.exports=n(479)},263:function(e,t,n){},265:function(e,t,n){},368:function(e,t,n){},370:function(e,t,n){},469:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(62),o=n.n(c);n(263);var i=function(e){var t=e.children;return r.a.createElement("div",{className:"app-wrapper container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"app-header"},r.a.createElement("h1",null,"Task Management"))),r.a.createElement("div",{className:"app-body col-12"},t),r.a.createElement("div",{className:"app-footer col-12"},"\xa92019")))},l=n(18),u=n(492),s=n(495);n(265);var d=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"login-wrapper"},r.a.createElement(u.a,null,r.a.createElement("h1",null,"Login"),r.a.createElement(u.a.Field,null,r.a.createElement("input",{placeholder:"Email"})),r.a.createElement(u.a.Field,null,r.a.createElement("input",{type:"password",placeholder:"Password"})),n&&r.a.createElement(s.a,null,"Login"),!n&&r.a.createElement(s.a,null,"Register"),n&&r.a.createElement("div",{className:"login-link-container"},r.a.createElement("span",{className:"clickable underline",onClick:function(){c(!1)}},"Register")),!n&&r.a.createElement("div",{className:"login-link-container"},r.a.createElement("span",{className:"clickable underline",onClick:function(){c(!0)}},"Login"))))},m=n(416),p=(n(368),n(370),n(65)),E=n(146),f="TASK";var v=Object(p.DragSource)(f,{beginDrag:function(e){return{id:e.id,state:e.state,title:e.title,description:e.description}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(function(e){var t=e.isDragging,n=e.connectDragSource,c=e.id,o=e.title,i=e.description,u=e.onEdit,s=e.onRemove,d=Object(a.useState)(!1),m=Object(l.a)(d,2),p=m[0],f=m[1];return n(r.a.createElement("div",{className:"task-item",style:{opacity:t?.5:1}},r.a.createElement("div",{onClick:function(){f(!p)},className:"task-item__title"},o," ",r.a.createElement(E.a,{name:p?"angle up":"angle down"})),p&&r.a.createElement("div",{className:"task-item__description"},i),p&&r.a.createElement("div",{className:"task-item__actions-container"},r.a.createElement(E.a,{"data-task":c,onClick:function(e){s(e.target.dataset.task)},size:"small",link:!0,name:"close"}),r.a.createElement(E.a,{"data-task":c,onClick:function(e){u(e.target.dataset.task)},size:"small",link:!0,name:"edit"}))))}),k=n(43),j=n(44),g=n(32),h=n(106),O=function(e){return new Promise(function(t){return setTimeout(t,e)})},C=function(){var e=localStorage.getItem("tasks");return e?JSON.parse(e):null},b=function(e){return localStorage.setItem("tasks",JSON.stringify(e))},y="ADD_TASK",T="REMOVE_TASK",S="FETCH_TASKS_SUCCESS",D="UPDATE_TASK",N=n(42),P="ADD_PROJECT",A="REMOVE_PROJECT",_="FETCH_PROJECTS_SUCCESS",L="UPDATE_PROJECT",R="DETAIL_PROJECT",w="RESET_SELECTED_PROJECT",I=Object(N.combineReducers)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return[].concat(Object(g.a)(e),[t.task]);case T:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.id!==t.id})}(e,t);case D:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map(function(e){return e.id!==t.task.id?e:Object(j.a)({},e,{title:t.task.title,description:t.task.description,state:t.task.state})})}(e,t);case S:return t.response;case w:return[];default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return[].concat(Object(g.a)(e),[t.project]);case _:return Object(g.a)(t.response);case A:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.id!==t.id})}(e,t);case L:return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map(function(e){return e.id!==t.project.id?e:Object(j.a)({},e,{name:t.project.name,description:t.project.description})})}(e,t);default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.project;case w:return{};default:return e}},taskUpToDate:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case w:return!1;case S:return!0;default:return e}}}),F=function(e,t){return function(e,t){return e.filter(function(e){return e.state===t})}(e.tasks,t)},J=function(e){return e.taskUpToDate},G=function(e){return e.projects},K=function(e){return e.project},U=function(e,t){return function(e,t){return e.find(function(e){return e.id===t})}(e.tasks,t)},M=function(e,t,n,a){return function(r,c){var o=U(c(),e);r({type:D,task:{id:e,title:t,description:n,state:a}}),function(e,t,n,a){return O(500).then(function(){var r=C();if(r){var c=r.map(function(r){return r.id===e?Object(j.a)({},r,{title:t,description:n,state:a}):r});b(c)}})}(e,t,n,a).catch(function(e){console.log(e),r({type:D,task:o})})}};var x=Object(k.b)(null,{updateTaskAction:M})(Object(p.DropTarget)(f,{drop:function(e,t){var n=t.getItem();e.type!==n.state&&e.updateTaskAction(n.id,n.title,n.description,e.type)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(function(e){var t=e.onEdit,n=e.onRemove,a=e.header,c=e.tasks,o=e.connectDropTarget,i=e.isOver,l=function(e){var n=c.find(function(t){return t.id===e});t(n)},u=function(e){var t=c.find(function(t){return t.id===e});n(t)};return o(r.a.createElement("div",{className:"task-column"},r.a.createElement("div",{className:"task-column-header"},c&&c.length>0?r.a.createElement("b",null,c.length," - "):null,a),r.a.createElement("div",{className:i?"drag-over task-column-items":"task-column-items"},c&&c.map(function(e){return r.a.createElement(v,{key:e.id,onEdit:l,onRemove:u,id:e.id,title:e.title,description:e.description,state:e.state})}))))})),z={BACK_LOG:{key:"BACK_LOG",display:"Back Log"},SELECTED_DEVELOP:{key:"SELECTED_DEVELOP",display:"Selected for Develop"},INPROGRESS:{key:"INPROGRESS",display:"Inprogress"},COMPLETED:{key:"COMPLETED",display:"Completed"}},B=function(){var e=localStorage.getItem("projects");return e?JSON.parse(e):null},H=function(e){return localStorage.setItem("projects",JSON.stringify(e))},V=n(490),q=n(493),Q={fetchTasksAction:function(e){return function(t,n){(function(e){return O(500).then(function(){var t=C();return t?t.filter(function(t){return t.projectId===e}):[]})})(e).then(function(e){t({type:S,response:e})})}},getProjectDetailAction:function(e){return function(t,n){var a=K(n());a&&a.length>0?t({type:R,project:a.find(function(t){return t.id===e})}):function(e){return O(500).then(function(){var t=B();return t?t.find(function(t){return t.id===e}):null})}(e).then(function(e){t({type:R,project:e})})}},addTaskAction:function(e,t,n,a){return function(r,c){(function(e,t,n,a){return O(500).then(function(){var r={id:Object(h.v4)(),projectId:e,title:t,description:n,state:a,created:Date.now()},c=C();return c||(c=[]),c.push(r),b(c),r})})(e,t,n,a).then(function(e){r({type:y,task:e})})}},updateTaskAction:M,removeTaskAction:function(e){return function(t,n){var a,r=U(n(),e);t({type:T,id:e}),(a=e,O(500).then(function(){var e=C();if(e){for(var t=-1,n=0;n<e.length;n++)if(e[n].id===a){t=n;break}if(t>=0){var r=[].concat(Object(g.a)(e.slice(0,t)),Object(g.a)(e.slice(t+1)));b(r)}}})).catch(function(e){console.log(e),t({type:y,task:r})})}}};var W=Object(k.b)(function(e,t){return{backLogTasks:F(e,z.BACK_LOG.key),selectedTasks:F(e,z.SELECTED_DEVELOP.key),inprogressTasks:F(e,z.INPROGRESS.key),completedTasks:F(e,z.COMPLETED.key),taskUpToDate:J(e),projectId:t.match.params.projectId,projectDetail:K(e)}},Q)(function(e){var t=e.backLogTasks,n=e.selectedTasks,c=e.inprogressTasks,o=e.completedTasks,i=e.taskUpToDate,d=e.projectId,p=e.projectDetail,E=e.fetchTasksAction,f=e.getProjectDetailAction,v=e.addTaskAction,k=e.updateTaskAction,j=e.removeTaskAction,g=Object(a.useState)(""),h=Object(l.a)(g,2),O=h[0],C=h[1],b=Object(a.useState)(""),y=Object(l.a)(b,2),T=y[0],S=y[1],D=Object(a.useState)(null),N=Object(l.a)(D,2),P=N[0],A=N[1],_=Object(a.useState)(!1),L=Object(l.a)(_,2),R=L[0],w=L[1],I=Object(a.useState)(!1),F=Object(l.a)(I,2),J=F[0],G=F[1],K=Object(a.useState)(!1),U=Object(l.a)(K,2),M=U[0],B=U[1];Object(a.useEffect)(function(){i||E(d),p&&p.id||f(d)});var H=function(e,t){var n=t.value;C(n)},Q=function(e,t){var n=t.value;S(n)},W=function(e){A(e),C(e.title),S(e.description),G(!0)},X=function(e){A(e),B(!0)};return r.a.createElement("div",{className:"task-wrapper"},r.a.createElement("div",{className:"task-header"},r.a.createElement("h3",null,r.a.createElement(m.a,{to:"/projects"},"Projects")," / ",p&&p.name?p.name:""),r.a.createElement(s.a,{onClick:function(){w(!0)},size:"small",compact:!0},"Create Task")),r.a.createElement("div",{className:"task-container"},r.a.createElement(x,{onEdit:W,onRemove:X,type:z.BACK_LOG.key,header:z.BACK_LOG.display,tasks:t}),r.a.createElement(x,{onEdit:W,onRemove:X,type:z.SELECTED_DEVELOP.key,header:z.SELECTED_DEVELOP.display,tasks:n}),r.a.createElement(x,{onEdit:W,onRemove:X,type:z.INPROGRESS.key,header:z.INPROGRESS.display,tasks:c}),r.a.createElement(x,{onEdit:W,onRemove:X,type:z.COMPLETED.key,header:z.COMPLETED.display,tasks:o})),r.a.createElement(V.a,{open:M,content:"Do you really want to delete this task?",onCancel:function(){B(!1)},onConfirm:function(){j(P.id),B(!1)}}),r.a.createElement(q.a,{size:"small",open:R},r.a.createElement(q.a.Header,null,"Add a task"),r.a.createElement(q.a.Content,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Field,null,r.a.createElement(u.a.Input,{onChange:H,placeholder:"Name",value:O})),r.a.createElement(u.a.Field,null,r.a.createElement(u.a.TextArea,{onChange:Q,placeholder:"Description",value:T})))),r.a.createElement(q.a.Actions,null,r.a.createElement(s.a,{onClick:function(){var e=O.trim(),t=T.trim();e&&(C(""),S(""),v(d,e,t,z.BACK_LOG.key),w(!1))},color:"green"},"Create"),r.a.createElement(s.a,{onClick:function(){w(!1)},color:"grey"},"Cancel"))),r.a.createElement(q.a,{size:"small",open:J},r.a.createElement(q.a.Header,null,"Edit a task"),r.a.createElement(q.a.Content,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Field,null,r.a.createElement(u.a.Input,{onChange:H,placeholder:"Name",value:O})),r.a.createElement(u.a.Field,null,r.a.createElement(u.a.TextArea,{onChange:Q,placeholder:"Description",value:T})))),r.a.createElement(q.a.Actions,null,r.a.createElement(s.a,{onClick:function(){var e=O.trim(),t=T.trim();e&&(C(""),S(""),k(P.id,e,t,P.state),G(!1))},color:"green"},"Update"),r.a.createElement(s.a,{onClick:function(){G(!1)},color:"grey"},"Cancel"))))}),X=n(491),Y=(n(469),n(494));var Z=Object(k.b)(function(e,t){var n=t.match;return{projects:G(e),path:n.path}},{addProject:function(e,t){return function(n,a){(function(e,t){return O(500).then(function(){var n={id:Object(h.v4)(),name:e,description:t,created:Date.now()},a=B();return a||(a=[]),a.push(n),H(a),n})})(e,t).then(function(e){n({type:P,project:e})})}},removeProject:function(e){return function(t,n){var a;(a=e,O(500).then(function(){var e=B();if(e){for(var t=-1,n=0;n<e.length;n++)if(e[n].id===a){t=n;break}if(t>=0){var r=[].concat(Object(g.a)(e.slice(0,t)),Object(g.a)(e.slice(t+1)));H(r)}}})).then(function(n){t({type:A,id:e})})}},updateProject:function(e,t,n){return function(a,r){(function(e,t,n){return O(500).then(function(){var a=B();if(a){var r=a.map(function(a){return a.id===e?Object(j.a)({},a,{name:t,description:n}):a});H(r)}})})(e,t,n).then(function(){a({type:L,project:{id:e,name:t,description:n}})})}},fetchProjects:function(){return function(e,t){O(500).then(function(){return B()||[]}).then(function(t){e({type:_,response:t})})}},resetSelectedProject:function(){return{type:w}}})(function(e){var t=e.addProject,n=e.removeProject,c=e.updateProject,o=e.fetchProjects,i=e.resetSelectedProject,d=e.projects,m=e.path,p=Object(a.useState)(!1),f=Object(l.a)(p,2),v=f[0],k=f[1],j=Object(a.useState)(!1),g=Object(l.a)(j,2),h=g[0],O=g[1],C=Object(a.useState)(""),b=Object(l.a)(C,2),y=b[0],T=b[1],S=Object(a.useState)(""),D=Object(l.a)(S,2),N=D[0],P=D[1],A=Object(a.useState)(!1),_=Object(l.a)(A,2),L=_[0],R=_[1],w=Object(a.useState)(""),I=Object(l.a)(w,2),F=I[0],J=I[1];Object(a.useEffect)(function(){o()},[]),Object(a.useEffect)(function(){i()});var G=function(){k(!v)},K=function(){O(!h)},U=function(e,t){var n=t.value;T(n)},M=function(e,t){var n=t.value;P(n)},x=function(e){J(e.target.dataset.project),R(!0)},z=function(e){var t=e.target.dataset.project,n=d.find(function(e){return e.id===t});J(t),T(n.name),P(n.description),K()};return r.a.createElement("div",{className:"project-wrapper"},r.a.createElement("h3",null,"Projects"),r.a.createElement("div",{className:"project-list"},d&&r.a.createElement(Y.a,{divided:!0,relaxed:!0},d.map(function(e){return r.a.createElement(Y.a.Item,{key:e.id,className:"project-item"},r.a.createElement(Y.a.Content,{className:"project-item__content"},r.a.createElement(X.a,{to:m+"/"+e.id},r.a.createElement(Y.a.Header,{as:"h4"},e.name),r.a.createElement(Y.a.Description,{as:"div"},e.description)),r.a.createElement(E.a,{"data-project":e.id,onClick:x,link:!0,name:"close",className:"project-item__delete"}),r.a.createElement(E.a,{"data-project":e.id,onClick:z,link:!0,name:"edit",className:"project-item__edit"})))}))),r.a.createElement(s.a,{size:"small",compact:!0,onClick:G},"New Project"),r.a.createElement(V.a,{open:L,content:"Do you really want to delete this project?",onCancel:function(){R(!1)},onConfirm:function(){R(!1),n(F)}}),r.a.createElement(q.a,{size:"small",open:v},r.a.createElement(q.a.Header,null,"Add a new project"),r.a.createElement(q.a.Content,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Field,null,r.a.createElement(u.a.Input,{onChange:U,placeholder:"Name",value:y})),r.a.createElement(u.a.Field,null,r.a.createElement(u.a.TextArea,{onChange:M,placeholder:"Description",value:N})))),r.a.createElement(q.a.Actions,null,r.a.createElement(s.a,{onClick:function(){var e=y.trim(),n=N.trim();e&&n&&(G(),T(""),P(""),t(e,n))},color:"green"},"Create"),r.a.createElement(s.a,{onClick:function(){G(),T(""),P("")},color:"grey"},"Cancel"))),r.a.createElement(q.a,{size:"small",open:h},r.a.createElement(q.a.Header,null,"Edit a project"),r.a.createElement(q.a.Content,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Field,null,r.a.createElement(u.a.Input,{onChange:U,placeholder:"Name",value:y})),r.a.createElement(u.a.Field,null,r.a.createElement(u.a.TextArea,{onChange:M,placeholder:"Description",value:N})))),r.a.createElement(q.a.Actions,null,r.a.createElement(s.a,{onClick:function(){var e=y.trim(),t=N.trim();e&&t&&(K(),T(""),P(""),c(F,e,t))},color:"green"},"Update"),r.a.createElement(s.a,{onClick:function(){T(""),P(""),K()},color:"grey"},"Cancel"))))}),$={isLogin:function(){return!0},get:function(){return null}},ee=n(246),te=function(){var e=[ee.a];return Object(N.createStore)(I,N.applyMiddleware.apply(void 0,e))},ne=n(247),ae=n.n(ne),re=n(496),ce=n(498),oe=n(481),ie=n(497);var le=function(){var e=$.isLogin();return r.a.createElement(k.a,{store:te()},r.a.createElement(i,null,!e&&r.a.createElement(d,null),e&&r.a.createElement(p.DragDropContextProvider,{backend:ae.a},r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(oe.a,{path:"/projects",exact:!0,component:Z}),r.a.createElement(oe.a,{path:"/projects/:projectId",component:W}),r.a.createElement(ie.a,{to:"/projects"}))))))};o.a.render(r.a.createElement(le,null),document.getElementById("root"))}},[[258,2,1]]]);
//# sourceMappingURL=main.f7e43f4b.chunk.js.map